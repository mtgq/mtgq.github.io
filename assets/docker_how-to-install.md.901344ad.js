import{_ as s,c as a,o as e,a as n}from"./app.b55333cf.js";const y=JSON.parse('{"title":"ubuntu 安装 docker","description":"","frontmatter":{},"headers":[],"relativePath":"docker/how-to-install.md"}'),o={name:"docker/how-to-install.md"},c=n(`<h1 id="ubuntu-安装-docker" tabindex="-1">ubuntu 安装 docker <a class="header-anchor" href="#ubuntu-安装-docker" aria-hidden="true">#</a></h1><h2 id="一、卸载旧的版本" tabindex="-1">一、卸载旧的版本 <a class="header-anchor" href="#一、卸载旧的版本" aria-hidden="true">#</a></h2><p><code>sudo apt-get remove docker docker-engine docker.io containerd runc</code></p><h2 id="二、设置仓库" tabindex="-1">二、设置仓库 <a class="header-anchor" href="#二、设置仓库" aria-hidden="true">#</a></h2><h3 id="_1、更新软件" tabindex="-1">1、更新软件 <a class="header-anchor" href="#_1、更新软件" aria-hidden="true">#</a></h3><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo apt-get update</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo apt-get -y install ca-certificates curl gnupg lsb-release</span></span>
<span class="line"></span></code></pre></div><h3 id="_2、添加-docker-的官方-gpg-密钥" tabindex="-1">2、添加 Docker 的官方 GPG 密钥 <a class="header-anchor" href="#_2、添加-docker-的官方-gpg-密钥" aria-hidden="true">#</a></h3><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo mkdir -m 0755 -p /etc/apt/keyrings</span></span>
<span class="line"><span style="color:#A6ACCD;">curl -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span></span>
<span class="line"></span></code></pre></div><h3 id="_3、设置存储库" tabindex="-1">3、设置存储库 <a class="header-anchor" href="#_3、设置存储库" aria-hidden="true">#</a></h3><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">deb [arch=</span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">dpkg --print-architecture</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> signed-by=/etc/apt/keyrings/docker.gpg] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu </span><span style="color:#89DDFF;">$(</span><span style="color:#C3E88D;">lsb_release -cs</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;"> stable</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> sudo tee /etc/apt/sources.list.d/docker.list </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> dev/null</span></span>
<span class="line"></span></code></pre></div><h2 id="三、开始安装-docker" tabindex="-1">三、开始安装 docker <a class="header-anchor" href="#三、开始安装-docker" aria-hidden="true">#</a></h2><h3 id="_1、更新软件-1" tabindex="-1">1、更新软件 <a class="header-anchor" href="#_1、更新软件-1" aria-hidden="true">#</a></h3><p><code>sudo apt-get update</code></p><h3 id="_2、安装-docker-engine、containerd-和-docker-compose" tabindex="-1">2、安装 Docker Engine、containerd 和 Docker Compose <a class="header-anchor" href="#_2、安装-docker-engine、containerd-和-docker-compose" aria-hidden="true">#</a></h3><p><code>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code></p><h3 id="_3、安装校验" tabindex="-1">3、安装校验 <a class="header-anchor" href="#_3、安装校验" aria-hidden="true">#</a></h3><p><code>docker version</code></p><h2 id="四、配置镜像加速" tabindex="-1">四、配置镜像加速 <a class="header-anchor" href="#四、配置镜像加速" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">sudo mkdir -p /etc/docker</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo tee /etc/docker/daemon.json </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#C3E88D;">-&#39;</span><span style="color:#89DDFF;">EOF</span><span style="color:#C3E88D;">&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#C3E88D;">  &quot;registry-mirrors&quot;: [&quot;https://9gqe7epy.mirror.aliyuncs.com&quot;,&quot;https://dockerproxy.com&quot;]</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"><span style="color:#89DDFF;">EOF</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl daemon-reload</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl restart docker</span></span>
<span class="line"></span></code></pre></div><h2 id="五、安装-docker-compose" tabindex="-1">五、安装 Docker Compose <a class="header-anchor" href="#五、安装-docker-compose" aria-hidden="true">#</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">curl -L https://get.daocloud.io/docker/compose/releases/download/v2.16.0/docker-compose-</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">uname -s</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;">-</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">uname -m</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> /usr/local/bin/docker-compose</span></span>
<span class="line"><span style="color:#A6ACCD;">chmod +x /usr/local/bin/docker-compose</span></span>
<span class="line"></span></code></pre></div>`,21),l=[c];function p(r,t,d,i,h,u){return e(),a("div",null,l)}const C=s(o,[["render",p]]);export{y as __pageData,C as default};
